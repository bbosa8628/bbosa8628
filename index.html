<!DOCTYPE html><html lang="en"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> <title>Stranger Chat</title> <script type="module"> let _0x1ac3ee=_0x5e0d;!function(e,a){let t=_0x5e0d,$=e();for(;;)try{let x=-parseInt(t(426))/1*(-parseInt(t(407))/2)+-parseInt(t(396))/3*(parseInt(t(430))/4)+-parseInt(t(399))/5*(parseInt(t(438))/6)+-parseInt(t(424))/7*(-parseInt(t(445))/8)+-parseInt(t(395))/9+parseInt(t(427))/10*(parseInt(t(429))/11)+parseInt(t(422))/12;if(118076===x)break;$.push($.shift())}catch(s){$.push($.shift())}}(_0x5c15,118076);import{initializeApp as e}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";function _0x5c15(){let e=["keydown","now","6VVjPRP","createElement","random","appendChild","Enter","username","red","206120jncduv","dataset","You have been matched with ","entries",'[data-message-id="',"span","floor","users","div","reload","https://groupchat-2e3a5-default-rtdb.firebaseio.com","Stranger_","key","val","textContent","chatRooms/","querySelector","groupchat-2e3a5","1063782OXJFHB","3EDuFFK","style","1:991803460047:web:51d3b785656708842faaba","688790ZHxXBw","addEventListener","preventDefault","AIzaSyCFMg0r23SD663cpLkLd0xteZaWC-D3UxU","includes","endButton","remove","messageInput","842xuCtxr","G-F4T57W4HB8",". Start chatting!","chatRooms","green","color","messageId","value","filter","click","System","users/","getElementById"," has left the chat.","trim","268272XVFXEx","991803460047","42xSdfzU","Connected with ","146LoFYhw","10KBhCxD","text","2580831erwOfz","396004XtkEhX","chat","/messages","groupchat-2e3a5.firebaseapp.com","scrollTop","chat_"];return(_0x5c15=function(){return e})()}import{getDatabase as a,ref as t,set as $,onValue as x,push as s,onDisconnect as _,runTransaction as c,onChildAdded as o}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";let firebaseConfig={apiKey:_0x1ac3ee(402),authDomain:_0x1ac3ee(433),databaseURL:_0x1ac3ee(455),projectId:_0x1ac3ee(394),storageBucket:"groupchat-2e3a5.appspot.com",messagingSenderId:_0x1ac3ee(423),appId:_0x1ac3ee(398),measurementId:_0x1ac3ee(408)},app=e(firebaseConfig),database=a(app),usersRef=t(database,_0x1ac3ee(452)),chatRoomsRef=t(database,_0x1ac3ee(410)),username=_0x1ac3ee(456)+Math[_0x1ac3ee(451)](1e4*Math[_0x1ac3ee(440)]()),userId=username+"_"+Date[_0x1ac3ee(437)](),userRef=t(database,_0x1ac3ee(418)+userId),chatRoomId=null;function showMessage(e){let a=_0x1ac3ee,t=document[a(419)](a(431)),$=document.createElement(a(453));$[a(391)]=e,t.appendChild($),t.scrollTop=t.scrollHeight}function searchForPartner(){showMessage("Searching for a partner..."),c(usersRef,e=>{let a=_0x5e0d;e||(e={});let x=Object[a(448)](e)[a(415)](([e,a])=>!a.paired&&e!==userId);if(x.length>0){let[_,c]=x[Math.floor(Math.random()*x.length)];chatRoomId=a(435)+userId+"_"+_,e[userId]={username:username,paired:!0,chatRoomId:chatRoomId},e[_]={...c,paired:!0,chatRoomId:chatRoomId},$(t(database,"chatRooms/"+chatRoomId),{users:[userId,_]}),s(t(database,"chatRooms/"+chatRoomId+"/messages"),{username:"System",text:a(447)+c[a(443)]+". Start chatting!",timestamp:Date.now()}),showMessage(a(425)+c[a(443)]+a(409)),listenToChatRoom()}return e})}function listenToChatRoom(){if(!chatRoomId)return;let e=t(database,"chatRooms/"+chatRoomId+"/messages");o(e,e=>{let a=_0x5e0d,t=e[a(458)]();displayMessage(e[a(457)],t),t[a(443)]===a(417)&&t[a(428)][a(403)]("has left the chat")&&setTimeout(()=>location[a(454)](),3e3)})}function displayMessage(e,a){let t=_0x1ac3ee,$=document[t(419)](t(431)),x=document[t(393)](t(449)+e+'"]');if(x)return;let s=document[t(439)]("div");s[t(446)][t(413)]=e;let _=document[t(439)](t(450));_[t(391)]=a[t(443)]+": ",_[t(397)][t(412)]=t(a[t(443)]===username?444:411);let c=document[t(439)](t(450));c.textContent=a.text,s[t(441)](_),s[t(441)](c),$.appendChild(s),$[t(434)]=$.scrollHeight}function sendMessage(){let e=_0x1ac3ee,a=document.getElementById("messageInput"),$=a[e(414)][e(421)]();if($&&chatRoomId){let x=t(database,e(392)+chatRoomId+e(432));s(x,{username:username,text:$,timestamp:Date.now()}),a[e(414)]=""}}function endChat(){let e=_0x1ac3ee;if(!chatRoomId)return;let a=t(database,"chatRooms/"+chatRoomId+"/messages");s(a,{username:"System",text:username+e(420),timestamp:Date[e(437)]()}),location[e(454)]()}function _0x5e0d(e,a){let t=_0x5c15();return(_0x5e0d=function(e,a){return t[e-=391]})(e,a)}$(userRef,{username:username,paired:!1}),_(userRef)[_0x1ac3ee(405)](),document[_0x1ac3ee(419)](_0x1ac3ee(406))[_0x1ac3ee(400)](_0x1ac3ee(436),e=>{let a=_0x1ac3ee;e.key===a(442)&&(sendMessage(),e[a(401)]())}),document.getElementById(_0x1ac3ee(404)).addEventListener(_0x1ac3ee(416),endChat),x(userRef,e=>{let a=e.val();a&&a.chatRoomId?(chatRoomId=a.chatRoomId,listenToChatRoom()):searchForPartner()}); </script> <style> body { font-family: 'Courier New', Courier, monospace; background-color: #1b1b1b; color: #e0e0e0; display: flex; flex-direction: column; height: 100vh; margin: 0; padding: 0; } #chat { flex-grow: 1; overflow-y: auto; padding: 10px; border: 1px solid #444; background-color: #000000; } #chat div { word-wrap: break-word; overflow-wrap: anywhere; } #messageBox { display: flex; padding: 10px; background-color: #111111; border-top: 1px solid #444; } #messageBox input { flex-grow: 1; padding: 10px; border: 1px solid #555; background-color: #222; color: #e0e0e0; } #messageBox button { margin-left: 10px; padding: 10px 20px; background-color: #111111; border: 1px solid #666; color: #e0e0e0; cursor: pointer; } #messageBox button:hover { background-color: #555; } </style></head><body> <div id="chat"></div> <div id="messageBox"> <input type="text" id="messageInput" placeholder="Type a message..." maxlength="286"> <button id="endButton">End Chat</button> </div></body></html>
