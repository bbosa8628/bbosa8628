<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"name=viewport><title>Stranger Chat</title><script type=module>const _0x5796f4=_0x58a5;function _0x22d7(){const e=["Enter","entries","4743060rDzqqy","numChildren","marginBottom","4sIyEqZ","activeUsers","/messages","appendChild","value","The chat has ended. Searching for a new partner...","innerHTML","createElement","focus","1006320vsfyhH","Connected with ","https://groupchat-2e3a5-default-rtdb.firebaseio.com","val","chatRoomId","&lt;","center","1892XuiNVZ","350931KJanqE","#aaa","7869345bGfjAY","scrollTop","&gt;","&#039;","remove","placeholder","35xSUuBy","3699784JTNPNn","replyToMessageId","1124014DLzstK","1056eHbckO","color","replyToUsername","1px solid #555","now","18063mZlQYk","textContent","text","reply-box","10px","push","#111111","6432285cvxxLE","G-F4T57W4HB8","shift","5px","266obuIZE","groupchat-2e3a5.appspot.com","#ccc","groupchat-2e3a5.firebaseapp.com","preventDefault","1660334NPhCSX","scrollHeight","[data-message-id='","423756buMpxh","621582GcuYRJ","keydown","paired","messageInput","bold","borderRadius","AIzaSyCFMg0r23SD663cpLkLd0xteZaWC-D3UxU","add","classList","System","9vHaqHQ","70Clghfn","1247112LfZNMs","Replying to ","fontWeight","7150568eYYYnV",'" target="_blank" style="color: #1e90ff;">ðŸ”—</a>',"replace","users/","37650ZSyNIx","&amp;","div","chat_","users","Type a message...","addEventListener","border","span","chatRooms","querySelector","6847106YyPBsG","9eFilix","You have ended the chat session.","1:991803460047:web:51d3b785656708842faaba","style","17QoCSMq","dblclick","dataset","991803460047","scrollIntoView","Searching for a new partner...","1706868JIDJiI","176470JuJXLV","smooth","messageId",". Start chatting!","#444","7053VceNwI","username"];return(_0x22d7=function(){return e})()}!function(e,t){const a=_0x58a5,s=_0x22d7();for(;;)try{if(849465==parseInt(a(462))/1+parseInt(a(440))/2*(parseInt(a(497))/3)+parseInt(a(520))/4*(-parseInt(a(431))/5)+parseInt(a(466))/6*(-parseInt(a(437))/7)+-parseInt(a(481))/8*(-parseInt(a(476))/9)+parseInt(a(508))/10*(-parseInt(a(441))/11)+parseInt(a(517))/12)break;s.push(s.shift())}catch(e){s.push(s.shift())}}();const _0x1b2176=_0x5234;function _0x1c3e(){const e=_0x58a5,t=_0x5234,a=[t(336),t(313),"replyToText",t(335),t(304),t(345),e(478),"backgroundColor",t(283),e(428),e(515),t(285),"getElementById",e(512),e(504),t(297),t(363),t(311),t(305),t(324),t(347),t(366),t(315),t(358),t(288),t(329),t(290),t(369),t(367),t(371),t(320),t(330),e(511),t(354),t(352),t(362),t(323),t(334),t(300),e(469),t(360),e(486),t(341),t(299),"17085304sxgYDC",e(523),t(303),e(439),e(468),t(365),e(492),".reply-box",t(316),t(332),e(454),t(359),t(331),e(434),t(280),e(490),e(509),"green",t(291),t(356),t(279),t(301),t(344),t(287),"length",e(526),t(286),t(370),e(447),t(293),t(295),t(326),t(338),"Stranger_",t(317),"size",t(322),t(310),t(328),t(309),t(350),t(349),e(419),e(422),t(312),e(503),t(282),t(364),t(337),t(351),e(495),"chatRooms/",t(289),t(353),e(525),t(292)];return(_0x1c3e=function(){return a})()}!function(e,t){const a=_0x58a5,s=_0x5234,n=_0x46c2();for(;;)try{if(490367==-parseInt(s(298))/1*(-parseInt(s(333))/2)+-parseInt(s(340))/3+-parseInt(s(294))/4*(parseInt(s(342))/5)+-parseInt(s(361))/6+parseInt(s(307))/7*(parseInt(s(357))/8)+-parseInt(s(296))/9*(parseInt(s(318))/10)+parseInt(s(308))/11)break;n[a(451)](n.shift())}catch(e){n[a(451)](n.shift())}}();const _0x522019=_0x4872;!function(e,t){const a=_0x5234,s=_0x4872,n=_0x1c3e();for(;;)try{if(911624==parseInt(s(258))/1+parseInt(s(295))/2+-parseInt(s(268))/3*(parseInt(s(314))/4)+parseInt(s(247))/5+parseInt(s(311))/6+parseInt(s(260))/7+-parseInt(s(249))/8)break;n[a(284)](n[a(355)]())}catch(e){n[a(284)](n.shift())}}();import{initializeApp}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";import{getDatabase,ref,set,onValue,push,onDisconnect,remove}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";const firebaseConfig={apiKey:_0x522019(327),authDomain:_0x5796f4(460),databaseURL:_0x5796f4(423),projectId:_0x522019(276),storageBucket:_0x522019(304),messagingSenderId:_0x522019(319),appId:_0x522019(310),measurementId:_0x522019(259)},app=initializeApp(firebaseConfig),database=getDatabase(app),usersRef=ref(database,_0x522019(321)),chatRoomsRef=ref(database,_0x522019(233)),chatRef=ref(database,"chat");let username=_0x522019(282)+Math[_0x522019(267)](1e4*Math[_0x522019(297)]());const userId=username+"_"+Date[_0x522019(296)](),userRef=ref(database,_0x522019(301)+userId);set(userRef,{username:username,paired:!1}),onDisconnect(userRef)[_0x522019(279)]();let chatRoomId=null,repliedMessageElement=null;function showMessage(e){const t=_0x5796f4,a=_0x5234,s=_0x522019,n=document[s(317)](a(369)),o=document[s(291)](s(323));o[s(277)]=e,n[s(250)](o),n[s(270)]=n[t(463)]}function searchForPartner(){const e=_0x5234;showMessage(e(306)),onValue(usersRef,(t=>{const a=e,s=_0x4872,n=t[s(238)](),o=Object[s(328)](n||{})[a(326)]((([e,t])=>!t[s(253)]&&e!==userId));if(o[s(273)]>0){const[e,t]=o[Math[s(267)](Math[a(337)]()*o[s(273)])];chatRoomId=s(302)+userId+"_"+e,set(ref(database,s(300)+chatRoomId),{users:[userId,e]}),set(userRef,{username:username,paired:!0,chatRoomId:chatRoomId}),set(ref(database,s(301)+e),{...t,paired:!0,chatRoomId:chatRoomId}),showMessage(s(292)+t[s(288)]+s(237)),listenToChatRoom()}else showMessage(s(263))}))}function _0x58a5(e,t){const a=_0x22d7();return(_0x58a5=function(e,t){return a[e-=419]})(e,t)}function listenToChatRoom(){const e=_0x522019;if(!chatRoomId)return;const t=ref(database,e(300)+chatRoomId+e(235));onValue(t,(t=>{const a=_0x58a5,s=_0x5234,n=e,o=t[s(354)]()||{},r=document[n(317)](n(232));r[s(343)]="";for(const e in o){const t=o[e],c=document[a(419)](n(323));c[n(294)][n(309)]=e;const u=document[n(291)](s(366));if(u[n(277)]=t[n(288)]+": ",u[n(239)].color=t[n(288)]===username?s(325):n(266),t[n(252)]){const e=document[s(346)]("div");e[s(352)][n(255)]=n(285),e[n(239)][s(327)]=n(275),e[n(239)][n(320)]=a(450),e[n(239)][n(312)]=s(321),e[n(239)][n(324)]=a(456),e[n(240)][n(290)](a(449));const o=document[n(291)](n(323));o[n(239)][s(281)]=n(322),o[n(239)][n(313)]=n(316),o[s(314)]=n(325)+t[a(443)],e[n(250)](o);const r=document[n(291)](n(323));r[n(239)][n(313)]=n(245),r[n(277)]='"'+t[n(307)]+'"',e[n(250)](r),c[n(250)](e)}c[n(250)](u);const i=document[n(291)](n(326)),d=/https?:\/\/[^\s]+/g,p=escapeHTML(t.text)[n(306)](d,(e=>{const t=n;return t(281)+e+t(254)}));i[n(274)]=p,c[n(250)](i),c[n(293)](n(289),(function(){const e=s,a=n,o=document[a(317)](a(244));o[e(329)]=e(347)+t[e(309)]+": "+t[e(317)],o[a(248)](),o[e(339)][a(252)]=c[e(339)][e(304)],o[a(294)][a(257)]=t[a(288)],o[e(339)][a(307)]=t[a(283)]})),t[n(252)]&&c[n(299)](n(256))[n(293)](s(336),(function(){const e=s,a=n,o=document[e(348)](a(269)+t[a(252)]+"']");o&&o[a(272)]({behavior:a(265),block:a(298)}),repliedMessageElement&&(repliedMessageElement[a(239)][e(278)]=""),repliedMessageElement=o,repliedMessageElement&&(repliedMessageElement[a(239)][a(312)]=a(318))})),r[n(250)](c)}r[n(270)]=r[n(243)]}))}function _0x5234(e,t){const a=_0x46c2();return(_0x5234=function(e,t){return a[e-=278]})(e,t)}function escapeHTML(e){const t=_0x5796f4,a=_0x5234,s=_0x522019;return e[s(306)](/&/g,s(246))[s(306)](/</g,s(278))[s(306)](/>/g,t(433))[s(306)](/"/g,s(236))[a(313)](/'/g,s(262))}function _0x46c2(){const e=_0x5796f4,t=[e(458),e(426),"8xgBfEr",e(435),e(446),e(519),e(501),e(420),"scrollHeight",e(432),"replyToText",e(521),e(510),e(487),"Searching for a partner...",e(457),e(438),e(514),e(506),e(470),e(491),e(483),"textContent",e(472),"replyToUsername",e(448),e(477),e(518),e(522),e(452),e(444),e(475),e(471),"red","filter","padding",e(425),e(436),"&quot;",e(498),"833409VWWTUz",e(485),e(467),e(461),"click","random",'<a href="',e(503),e(429),e(453),e(421),e(526),"trim",e(499),e(419),e(479),e(495),e(473),e(502),e(427),e(500),e(488),e(424),e(455),e(513),"92248pMMLxW",e(516),e(496),e(459),e(465),e(474),e(489),e(445),e(482),e(493),e(494),"endButton","chat","groupchat-2e3a5","Active users: ","backgroundColor",e(464),"No available users to pair with. Please wait...",e(480),e(507),e(442),e(451),e(430),e(450),e(505),"key",e(484),e(524),"floor"];return(_0x46c2=function(){return t})()}function sendMessage(){const e=_0x5796f4,t=_0x5234,a=_0x522019,s=document[a(317)](a(244)),n=s[a(331)][a(271)]();if(n&&chatRoomId){const o=ref(database,a(300)+chatRoomId+a(235)),r=s[t(339)][a(252)],c=s[a(294)][a(257)],u=s.dataset[t(302)],i=r?a(325)+c+": "+n:n;push(o,{username:username,text:i,timestamp:Date[a(296)](),replyToMessageId:r||null,replyToUsername:c||null,replyToText:u||null}),s[t(290)]="",s[a(330)]=a(264),delete s[a(294)][e(439)],delete s[a(294)][e(443)],delete s[a(294)][a(307)]}}function _0x4872(e,t){const a=_0x1c3e();return(_0x4872=function(e,t){return a[e-=232]})(e,t)}function endChat(){const e=_0x522019;if(!chatRoomId)return;const t=ref(database,e(300)+chatRoomId);onValue(t,(a=>{const s=_0x58a5,n=_0x5234,o=e,r=a[n(354)]();if(r&&r[o(321)]){const[e]=r[o(321)][o(280)]((e=>e!==userId));showMessage(o(261)),set(userRef,{username:username,paired:!1});const a=ref(database,o(301)+e);set(a,{...r[n(363)],paired:!1,chatRoomId:null}),remove(t);const c=ref(database,o(300)+chatRoomId+s(522));push(c,{username:o(241),text:o(303),timestamp:Date[o(296)]()}),setTimeout((()=>{const e=n,t=o;document[t(317)](t(232))[e(343)]="",showMessage(t(286)),searchForPartner()}),2e3)}}))}document[_0x522019(317)](_0x5796f4(469))[_0x522019(293)](_0x522019(242),(e=>{const t=_0x522019;e[t(329)]===t(315)&&(sendMessage(),e[t(308)]())})),document[_0x522019(317)](_0x1b2176(368))[_0x522019(293)](_0x522019(305),endChat),onValue(userRef,(e=>{const t=_0x522019,a=e[t(238)]();a&&a[t(287)]?(chatRoomId=a[t(287)],listenToChatRoom()):searchForPartner()})),onValue(usersRef,(e=>{const t=_0x1b2176,a=_0x522019,s=e[a(284)]||e[t(319)]();document[a(317)](a(251))[a(277)]=a(234)+s}))</script><style>body{font-family:'Courier New',Courier,monospace;background-color:#1b1b1b;color:#e0e0e0;display:flex;flex-direction:column;height:100vh;margin:0;padding:0}#chat{flex-grow:1;overflow-y:auto;padding:10px;border:1px solid #444;background-color:#000}#chat div{word-wrap:break-word;overflow-wrap:anywhere}#messageBox{display:flex;padding:10px;background-color:#111;border-top:1px solid #444}#messageBox input{flex-grow:1;padding:10px;border:1px solid #555;background-color:#222;color:#e0e0e0}#messageBox button{margin-left:10px;padding:10px 20px;background-color:#111;border:1px solid #666;color:#e0e0e0;cursor:pointer}#messageBox button:hover{background-color:#555}#activeUsers{position:fixed;top:10px;right:10px;background:#111;padding:5px 10px;border:1px solid #555;color:#e0e0e0}.reply-box{cursor:pointer;border:1px solid #666;background-color:#111;padding:5px;border-radius:5px;margin-bottom:5px}.reply-box div{color:#ccc;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.reply-box div{color:#ccc}::-webkit-scrollbar{width:12px;height:12px}::-webkit-scrollbar-thumb{background-color:#444;border-radius:10px}::-webkit-scrollbar-thumb:hover{background-color:#1e1e1e}::-webkit-scrollbar-track{background-color:#222;border-radius:10px}</style><div id=chat></div><div id=messageBox><input id=messageInput placeholder="Type a message..."> <button id=endButton>End Chat</button></div><div id=activeUsers></div>
